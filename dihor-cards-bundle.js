class n extends HTMLElement{constructor(){super(...arguments),this._contentCreated=!1}setConfig(n){if(!n.entity)throw new Error("Entity is required");this._config=n}set hass(n){this._hass=n;const t=n.states[this._config.entity];if(!t)return;const e=t.attributes.friendly_name||this._config.entity,i=t.attributes.entity_picture;if(this._contentCreated){const n=this.querySelector("ha-card");n&&n.setAttribute("header",e)}else this.innerHTML=`\n        <ha-card header="${e}">\n          <div class="card-content">\n            <img style="width:100%;border-radius:50%" />\n          </div>\n        </ha-card>\n      `,this._contentCreated=!0;const r=this.querySelector("img");r&&i&&(r.setAttribute("src",i),r.setAttribute("alt",e))}getCardSize(){return 1}}customElements.get("dihor-person-card")||customElements.define("dihor-person-card",n);class t extends HTMLElement{constructor(){super(...arguments),this._contentCreated=!1}setConfig(n){if(!n.entity_prefix)throw new Error("entity_prefix is required");(n.entity_prefix.startsWith("sensor.")||n.entity_prefix.startsWith("binary_sensor."))&&console.warn('[dihor-minecraft-card] entity_prefix should not include "sensor." or "binary_sensor."'),this._config=n}set hass(n){this._hass=n;const t=this._config.entity_prefix,e=e=>{var i,r,s,a,d,o;return null!==(o=null!==(a=null!==(r=null===(i=n.states[`${t}${e}`])||void 0===i?void 0:i.state)&&void 0!==r?r:null===(s=n.states[`sensor.${t}${e}`])||void 0===s?void 0:s.state)&&void 0!==a?a:null===(d=n.states[`binary_sensor.${t}${e}`])||void 0===d?void 0:d.state)&&void 0!==o?o:"unavailable"};this._contentCreated||(this.innerHTML='\n        <ha-card>\n          <div class="dihor-card">\n  <div class="dihor-card-header">\n    <div class="dihor-header-row">\n      <h1 class="dihor-card-title">Minecraft Server</h1>\n      <span id="version" class="dihor-badge dihor-badge-version">0.0.0</span>\n    </div>\n    <div id="motd" class="dihor-card-subtitle"></div>\n  </div>\n\n  <ul class="dihor-grid-3">\n    <li class="dihor-stat">\n      <div class="dihor-stat-icon">üîå</div>\n      <div class="dihor-stat-label">Status</div>\n      <div class="dihor-stat-value">\n        <span id="status" class="dihor-badge dihor-badge-offline">offline</span>\n      </div>\n    </li>\n\n    <li class="dihor-stat">\n      <div class="dihor-stat-icon">üë•</div>\n      <div class="dihor-stat-label">Players</div>\n      <div class="dihor-stat-value">\n        <span id="players" class="dihor-badge dihor-badge-players">0/0</span>\n      </div>\n    </li>\n\n    <li class="dihor-stat">\n      <div class="dihor-stat-icon">‚ö°</div>\n      <div class="dihor-stat-label">Ping</div>\n      <div class="dihor-stat-value">\n        <span id="latency" class="dihor-badge dihor-badge-latency">0</span>\n      </div>\n    </li>\n  </ul>\n</div>\n          <style>/* KARTA */\n.dihor-card {\n  margin: 0 4px;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 16px;\n  padding: 18px;\n  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  font-family: sans-serif;\n}\n\n/* NAG≈Å√ìWEK */\n.dihor-card-header {\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\n}\n\n.dihor-header-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 4px;\n}\n\n.dihor-card-title {\n  font-size: 20px;\n  font-weight: 700;\n  color: #1d1d1f;\n  margin: 0;\n}\n\n.dihor-card-subtitle {\n  font-size: 14px;\n  color: #666;\n  font-weight: 500;\n}\n\n/* SIATKA STATYSTYK */\n.dihor-grid-3 {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 12px;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n/* POJEDYNCZA STATYSTYKA */\n.dihor-stat {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 10px 0;\n  background: rgba(200, 200, 200, 0.2);\n  border-radius: 12px;\n  text-align: center;\n}\n\n.dihor-stat-icon {\n  font-size: 18px;\n}\n\n.dihor-stat-label {\n  font-size: 11px;\n  color: #666;\n  font-weight: 500;\n  margin-bottom: 4px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.dihor-stat-value {\n  font-size: 14px;\n  color: #1d1d1f;\n  font-weight: 600;\n  line-height: 1.2;\n}\n\n/* BADGES */\n.dihor-badge {\n  font-size: 12px;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-weight: 600;\n  color: white;\n}\n\n.dihor-badge-online {\n  background: #4caf50;\n}\n\n.dihor-badge-offline {\n  background: #ff3b30;\n}\n\n.dihor-badge-players {\n  background: #9c27b0;\n}\n\n.dihor-badge-version {\n  background: #007aff;\n}\n\n.dihor-badge-latency {\n  background: #ff9500;\n}</style>\n        </ha-card>\n      ',this._contentCreated=!0);const i=(n,t)=>{const e=this.querySelector(`#${n}`);e&&(e.textContent=t)},r=e("_status").toLowerCase(),s="unavailable"===r||"offline"===r||"0"===r,a=s?"":e("_world_message"),d=s?"0.0.0":e("_version"),o=s?"0":e("_players_online"),l=s?"0":e("_players_max"),c=(s?"0":e("_latency")).split(".")[0];i("motd",a),i("version",d),i("status",s?"Offline":"Online"),i("players",`${o} / ${l}`),i("latency",c);const h=this.querySelector("#status");h&&(h.className="dihor-badge "+(s?"dihor-badge-offline":"dihor-badge-online"))}getCardSize(){return 1}}customElements.get("dihor-minecraft-card")||customElements.define("dihor-minecraft-card",t);
