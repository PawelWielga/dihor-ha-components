class r extends HTMLElement{constructor(){super(...arguments),this._contentCreated=!1}setConfig(r){if(!r.entity)throw new Error("Entity is required");this._config=r}set hass(r){this._hass=r;const n=r.states[this._config.entity];if(!n)return;const t=n.attributes.friendly_name||this._config.entity,e=n.attributes.entity_picture;if(this._contentCreated){const r=this.querySelector("ha-card");r&&r.setAttribute("header",t)}else this.innerHTML=`\n        <ha-card header="${t}">\n          <div class="card-content">\n            <img style="width:100%;border-radius:50%" />\n          </div>\n        </ha-card>\n      `,this._contentCreated=!0;const i=this.querySelector("img");i&&e&&(i.setAttribute("src",e),i.setAttribute("alt",t))}getCardSize(){return 1}}customElements.get("dihor-person-card")||customElements.define("dihor-person-card",r);class n extends HTMLElement{constructor(){super(...arguments),this._contentCreated=!1}setConfig(r){if(!r.entity_prefix)throw new Error("entity_prefix is required");(r.entity_prefix.startsWith("sensor.")||r.entity_prefix.startsWith("binary_sensor."))&&console.warn('[dihor-minecraft-card] entity_prefix should not include "sensor." or "binary_sensor."'),this._config=r}set hass(r){this._hass=r;const n=this._config.entity_prefix,t=t=>{var e,i,s,a,d,o;return null!==(o=null!==(a=null!==(i=null===(e=r.states[`${n}${t}`])||void 0===e?void 0:e.state)&&void 0!==i?i:null===(s=r.states[`sensor.${n}${t}`])||void 0===s?void 0:s.state)&&void 0!==a?a:null===(d=r.states[`binary_sensor.${n}${t}`])||void 0===d?void 0:d.state)&&void 0!==o?o:"unavailable"};this._contentCreated||(this.innerHTML='\n        <ha-card>\n          <div class="dihor-card">\r\n  <div class="dihor-card-header">\r\n    <div class="dihor-header-row">\r\n      <h1 class="dihor-card-title">My Minecraft Server</h1>\r\n      <span id="version" class="dihor-badge dihor-badge-version">0.0.0</span>\r\n    </div>\r\n    <div id="motd" class="dihor-card-subtitle">message of the day</div>\r\n  </div>\r\n\r\n  <ul class="dihor-grid-3">\r\n    <li class="dihor-stat">\r\n      <div class="dihor-stat-icon">üîå</div>\r\n      <div class="dihor-stat-label">Status</div>\r\n      <div class="dihor-stat-value">\r\n        <span id="status" class="dihor-badge dihor-badge-offline">Offline</span>\r\n      </div>\r\n    </li>\r\n\r\n    <li class="dihor-stat">\r\n      <div class="dihor-stat-icon">üë•</div>\r\n      <div class="dihor-stat-label">Players</div>\r\n      <div class="dihor-stat-value">\r\n        <span id="players" class="dihor-badge dihor-badge-players">0/0</span>\r\n      </div>\r\n    </li>\r\n\r\n    <li class="dihor-stat">\r\n      <div class="dihor-stat-icon">‚ö°</div>\r\n      <div class="dihor-stat-label">Ping</div>\r\n      <div class="dihor-stat-value">\r\n        <span id="latency" class="dihor-badge dihor-badge-latency">0</span>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n\n          <style>/* KARTA */\r\n.dihor-card {\r\n  margin: 0;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 12px;\r\n  padding: 18px;\r\n  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  font-family: sans-serif;\r\n}\r\n\r\n/* NAG≈Å√ìWEK */\r\n.dihor-card-header {\r\n  margin-bottom: 16px;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.dihor-header-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.dihor-card-title {\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  color: #1d1d1f;\r\n  margin: 0;\r\n}\r\n\r\n.dihor-card-subtitle {\r\n  font-size: 14px;\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n\r\n/* SIATKA STATYSTYK */\r\n.dihor-grid-3 {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  gap: 12px;\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n/* POJEDYNCZA STATYSTYKA */\r\n.dihor-stat {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 10px 0;\r\n  background: rgba(200, 200, 200, 0.2);\r\n  border-radius: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.dihor-stat-icon {\r\n  font-size: 18px;\r\n}\r\n\r\n.dihor-stat-label {\r\n  font-size: 11px;\r\n  color: #666;\r\n  font-weight: 500;\r\n  margin-bottom: 4px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.dihor-stat-value {\r\n  font-size: 14px;\r\n  color: #1d1d1f;\r\n  font-weight: 600;\r\n  line-height: 1.2;\r\n}\r\n\r\n/* BADGES */\r\n.dihor-badge {\r\n  font-size: 12px;\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  font-weight: 600;\r\n  color: white;\r\n}\r\n\r\n.dihor-badge-online {\r\n  background: #4caf50;\r\n}\r\n\r\n.dihor-badge-offline {\r\n  background: #ff3b30;\r\n}\r\n\r\n.dihor-badge-players {\r\n  background: #9c27b0;\r\n}\r\n\r\n.dihor-badge-version {\r\n  background: #007aff;\r\n}\r\n\r\n.dihor-badge-latency {\r\n  background: #ff9500;\r\n}</style>\n        </ha-card>\n      ',this._contentCreated=!0);const e=(r,n)=>{const t=this.querySelector(`#${r}`);t&&(t.textContent=n)},i=t("_status").toLowerCase(),s="unavailable"===i||"offline"===i||"0"===i,a=s?"":t("_world_message"),d=s?"0.0.0":t("_version"),o=s?"0":t("_players_online"),l=s?"0":t("_players_max"),c=(s?"0":t("_latency")).split(".")[0];e("motd",a),e("version",d),e("status",s?"Offline":"Online"),e("players",`${o} / ${l}`),e("latency",c);const h=this.querySelector("#status");h&&(h.className="dihor-badge "+(s?"dihor-badge-offline":"dihor-badge-online"))}getCardSize(){return 1}}customElements.get("dihor-minecraft-card")||customElements.define("dihor-minecraft-card",n);
